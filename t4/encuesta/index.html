<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Francisco Gonzalez">
	<title>Test de dota2</title>
	<script type="text/javascript">
		var heroes = ['Abaddon', 'Alchemist', 'Ancient Apparition','Anti-Mage','Axe','Bane','Batrider','BeastMaster','BloodSeeker','Bounty Hunter','Brewmaster','Bristleback','Broodmother','Centaur Warruner','Chaos Knight','Chen','Clinkz','Crystal Maiden','Dark Seer','Dazzle','Dead Prophet','Disruptor','Doom Bringer','Dragon Knight','Drow Ranger','EarthShaker','Elder Titan','Enchantress','Enigma','Faceless Void','Furion','Gyrocopter','Huskar','Invoker','Jakiro','Juggernaut','Kepper of the light','Kunkka','Leshrac','Lich','LifeStealer','Lina','Lion','Lone Druid','Luna','Lycan','Magnataur','Medusa','Meepo','Mirana','Morphling','Naga Siren','Necrolyte','Nevermore','Night Stalker','Nyx Assassain','Obsidian Destroyer','Ogre Magi','OmniKnight','Oracle','Phantom Assassin','Phantom Lancer','Puck','Pudge','Pugna','Queen of Pain','ClockWerk','Razor','Riki','Rubick','Sand King','Shadow Demon','Shadow Shaman','Timbersaw','Silencer','Skeleton King','Skywrath Mage','Slardar','Slark','Sniper','Spectre','Spirit Breaker','Storm Spirit','Sven','Templar Assassin','Tidehunter','Tinker','Tiny','Treant Protector','Troll Warlord','Tuskar','Undying','Ursa','Vengeful Spirit','Venomancer','Viper','Visage','Warlock','Weaaver','Windranger','Whisp','Witch Doctor','Zeus'];
		var parametro = parseInt(location.search.split('n=')[1]);
		var n=103;//64
		var n2=1;
		var bg=rand(4);
		document.write('<style>body{background-image: url("./img/bg/'+bg+'.jpg");} </style>');

		if(parametro&&parametro>0&&parametro<=100){
			n2=parametro;
		}

		var autopl=true;
		var resp=["xd"];
		var preg1 = "a"; 
		var preg2 = "b"; 
		var preg3 = "c"; 
		var preg4 = "d"; 
		var preg=[""];
		for(i=0;i<n2;i++){
			preg[i]="";
		}

		function res(r,valor){
			//alert("r= "+r+" valor= "+valor);
			preg[r]=valor;
		}
		function resp1(valor){
			preg1 = valor;
			//alert(preg1);
		} 
		function resp2(valor){
			preg2 = valor;
			//alert(preg2);
		} 
		function resp3(valor){
			preg3 =valor;
			//alert(preg3);
		} 
		function resp4(valor){
			preg4 =valor;
			//alert(preg4);
		} 
		function rand(nn){
			return (parseInt((Math.random() * nn-1), 10)+1);
		}
		function evaluar() 
		{ 
		puntuacion=0; 
			for(i=0;i<n2;i++){
				if(preg[i]==resp[i]){
					puntuacion++;
				}
			}
		  if(preg1 == resp[0]) {puntuacion=puntuacion+1};
		  if(preg2 == resp[1]) {puntuacion=puntuacion+1}; 
		  if(preg3 == resp[2]) {puntuacion=puntuacion+1};
		  if(preg4 == resp[3]) {puntuacion=puntuacion+1};
		  var mensaje="Su puntuación es "+puntuacion;
		  if(puntuacion==n2){mensaje=mensaje+" PUNTUACION PERFECTA!!";}
		alert(mensaje);

		}		
	</script>


	<!---<script type="text/JavaScript" src="./js/ script.js"></script>-->
	<link rel="stylesheet" href="./css/estilo.css"> <!---Enlazar la hoja de estilos -->
	<!---<link rel="icon" type="image/png" href="./img/icon.png" /><!---favicon png-->
	<link rel="shortcut icon" href="./img/icon.ico" />
</head>
<header>
	<a name="header"></a>
	<table>
		<tr>
			<td width="30%"><img class="banner" src="./img/dota2font.png"></td>
			<td width="20%"><audio id="music" controls autoplay loop>
  							<source src="./music/dota2.mp3" type="audio/mpeg">
						  Your browser does not support the audio tag.
						</audio>
						<form name="formulario" method="GET" action="index.html">
							<label style="color:white;">Numero de heroes (entre 1 y 100): <input type="text" name="n" value="" /></label>
							<input type="submit" value="recargar!">
						</form>
						
						</td>

			<td width="50%">
				<marquee class="marquee1" behavior="scroll" direction="left" scrollamount="1" scrolldelay="10" truespeed="true">
				 Encuesta básica sobre nombres de héroes de Dota2 - por Francisco González para Taller de ingenierìa.
				</marquee>
			</td>
		</tr>
	</table>
</header>
<body>
	
		<script type="text/javascript">
			if(n2>=10){
				document.write("<center>");
				document.write('<div class="lista">')
				document.write('<table>');
				cont=1;
				for(i=0;i<n2/6;i++){
					document.write('<tr>');
					for(j=0;j<6;j++){
						if(cont<=n2){
							document.write('<td>');
							document.write('<a href="#'+(cont)+'">['+cont+']</a>');
							document.write('</td>');
						}

						cont++;
					}
					document.write('</tr>');
				}
				document.write('<a href="#header">arriba</a>');
				document.write('</table>');
				document.write('<a href="#fin">fin</a>');
				document.write('</div>');

				document.write("</center>");
			}

		</script>
	
	<div class="recuadro1">
		Selecciona el nombre correcto
	</div>
	
	<br>
	<br>
	<center>
		<form name="heroes">
			<table>
				<script type="text/javascript">
				var lAudioNote = document.getElementById("music");
				lAudioNote.volume = 0.025;					
					for(i=0;i<n2;i=i+1){
						var x= rand(n);
						var y=0;
						resp[i]=heroes[x];
						document.write('<tr>');
						document.write('<td class="img">');
						document.write('<img class="heroImage" src="./img/heroes/');
						document.write((x+1)+'.png">');
						document.write('<img class="heroFrame" src="./img/frame.png">');
						//<a name="final">Este es el final del documento!!</a>
						document.write('<div class="questNum"><h1><a name="'+(i+1)+'"</a>'+(i+1)+'</h1></div>');
						document.write('</td>');
						document.write('<td class="alt">');
						var lugar=parseInt((Math.random() * 3), 10);
						for(ii=0;ii<3;ii++){
							var h="";
							if(ii==lugar){
								h=heroes[x];
							}else{
								y=rand(n);
								while(y==x){
									y=rand(n);
								}
								h=heroes[y];
							}
							document.write(h);
							h="'"+h+"'";
							document.write('<input type="radio" name="preg'+(i+1)+'" value="'+h+'" onClick="res('+i+','+h+')">');
							//document.write('<a style="text-decoration:none;"href="#'+(i+2)+'""><input type="radio" name="preg'+(i+1)+'" value="'+h+'" onClick="res('+i+','+h+')"></a>');
							document.write('<br>');
						}
						document.write('</td>');
						document.write('</tr>');
					}

				</script>
			</table>
			<a name="fin"></a>
		<input type="submit" value="enviar" onclick="evaluar()">
		</form>
	</center>

</body>
</html>